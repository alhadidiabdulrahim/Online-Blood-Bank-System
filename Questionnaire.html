<!DOCTYPE html>
<html>
    <head>
        <!-- Page Title-->
        <title>Questionnaire</title>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
            rel="stylesheet" 
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" 
            crossorigin="anonymous">
        <!-- Link to CSS Styles-->
        <link rel="stylesheet" href="CSS/Styles.css">   
    </head>

    <body>
        <!-- Header -->
        <header style="padding-top: 50px;">
            <nav class="navbar navbar-expand-sm bg-dark navbar-light  fixed-top py-2" id="mainNav">
                <div class="container px-4 px-lg-5" >
                    <a class="navbar-brand">
                        <!-- Logo -->
                        <img src="img/blood.png" width="30" height="30" class="d-inline-block align-top" alt=""><span class="logo-style">Online Blood Bank</span></a>
                        <!-- Bar Item -->
                        <div class="collapse navbar-collapse" id="mainNav">
                        <ul class="navbar-nav ms-auto my-2 my-lg-0">
                            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                            <li class="nav-item"><a class="nav-link" href="Donors&Patient.php">Donors & Patient</a></li>
                            <li class="nav-item"><a class="nav-link" href="About Us.html">About us</a></li>
                            <li class="nav-item"><a class="nav-link" href="Contact Us.html">Contact us</a></li>
                            <li class="nav-item"><a class="nav-link" href="Sign In.html">Sign in</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        
        <!-- Questionnaire Form -->
        <section style="margin: 10px; padding: 20px;">
            <div class="container page" style="padding: 20px;" >

                <div >
                    <h1 style="text-align: center;">FeedBack</h1>
                    <hr style="width: 20%; height: 5px; color: red; margin: auto;"><br>
                </div>

                <form action="feedback.php" name="questionnaire" class="form" method="post" data-netlify="true" onsubmit=" validateEmail(), validateName(), checkLength()  ">

                    <div>
                        <label for="name">Full Name:</label>
                        <input class="form-control" id="fname" type="text" name="fname" />
                    </div><br>

                    <div>
                        <label for="email">Email:</label>
                        <input class="form-control" id="email" type="text" name="email" />    
                    </div><br>
                    
                    <p>Is this your first visit to the website?</p>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input"  type="radio" name="q1" value="Yes">
                        <label class="form-check-label">Yes</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q1" value="No">
                        <label class="form-check-label">No</label>
                    </div><br>
                    <p>What is the primary reason for your visite to the website?</p>
                    <div class="form-floating mb-3">
                        <textarea class="form-control" id="q1-reason" type="text" style="height: 10rem; resize: none;" name="q2" ></textarea>
                        <label for="message">Your Answer...</label>
                    </div><br>

                    <p>Were you able to find what you want?</p>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q3" value="Yes">
                        <label class="form-check-label">Yes</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q3" value="No">
                        <label class="form-check-label">No</label>
                    </div>

                    <p>If you did not find what you needed. Please tell us what you search for? </p>
                    <div class="form-floating mb-3">
                        <textarea class="form-control" id="q2-reason" type="text" style="height: 10rem; resize: none;" name="q4" ></textarea>
                        <label for="message">Your Answer...</label>
                    </div>

                    <p>How easy is to find information on the site</p>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q5" value="Easy">
                        <label class="form-check-label">Easy</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q5" value="Avaerage">
                        <label class="form-check-label">Avaerage</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q5" value="Difficult">
                        <label class="form-check-label">Difficult</label>
                    </div><br><br>

                    <p>What is the likelihood that you will return to the site</p>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q6" value="Very Likely">
                        <label class="form-check-label">Very Likely</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q6" value="Moderately Likely">
                        <label class="form-check-label">Moderately Likely</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="q6" value="Unikely to return">
                        <label class="form-check-label">Unikely to return</label>
                    </div><br><br>

                    <p>Please provide any addtional comments or suggestions.<span style="font-size: 12px;"> Optional</span></p>
                    <div class="form-floating mb-3">
                        <textarea class="form-control" id="suggestions" type="text" style="height: 10rem; resize: none;" name="suggestions"></textarea>
                        <label for="message">Your Answer...</label>
                    </div><br>
                    <div class="d-grid"><button class="btn btnstyle1 btn-xl"  value="Submit" type="submit">Submit</button></div>
                </form>
            </div>
        </section>

        <!-- JavaScript -->
        <script type="text/javascript">

            //Validation #1
            //Name should be in tow parts without numbers 
            function validateName(){
                var valdName = /^[a-zA-Z]+ [a-zA-Z]+$/;
                var name = document.getElementById('fname').value;
                if(!(valdName.test(name))){
                    alert('Invalid full name');
                    return false;
                }
            }

            //Validation #2
            //should be same as email structure (example@email.com/om)
            function validateEmail(){
                var valdEmail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                var email = document.getElementById('email').value;
                if(!(valdEmail.test(email))){
                    alert('Invalid email');
                    return false;
                }

            }

            //Validation #3
            //Reason in q1 should be less than 100 characters
            function checkLength(){
                var reason = document.getElementById('q1-reason').value;
                if(reason.length>100){
                    alert('The reason should contain less than 100 characters!');
                    return false
                }
            }
        </script>

        <!-- Footer -->
        <footer class="bg-dark py-3">
            <div class="container px-4 px-lg-5">
                <div class="small text-center text-muted">
                    Copyright &copy; 2022 - Online Blood Bank Group
                </div>
            </div>
        </footer>
    </body>
</html>